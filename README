nsproxy
====================

nsproxy is a Linux-specific command-line tool, makes any application force to
use a specific socks5 proxy.

Functionally similar to tsocks / proxychains-ng / graftcp, but using a
completely different mechanism. It has the following features:

 - Works on static linked application.
 - Supported UDP protocol.
 - Supported DNS Hijacking.
 - No privilege required.


USAGE
----------

nsproxy [-s <server>] [-p <port>] [-d <dns>] [command]

examples:
  $ nsproxy curl https://api.ipify.org
  $ nsproxy -s 127.0.0.1 -p 1080 -d 8.8.8.8 nslookup google.com

options:
  -s server
    socks5 proxy server address, only IPv4 address supported.
    default vaule is "127.0.0.1"

  -p port
    proxy server port.
    default value is "1080"

  -d dns
    DNS hijacking, allow following options:
      -d off
        disable DNS hijacking, send DNS requests directly by local network (not proxied).
      -d proxy
        disable DNS hijacking, treat DNS requests as normal UDP packets and proxied.
      -d tcp://<nameserver_ip>
        redirect DNS requests to specified TCP nameserver, requests will proxied.
      -d udp://<nameserver_ip>
        redirect DNS requests to specified UDP nameserver, requests will proxied.
    default value is "tcp://8.8.8.8"


KNOWN ISSUE
----------

All {uid,gid} except the current user will be mapped to
/proc/sys/kernel/overflow{uid,gid}

That's means file owners except the current user will be shown as 'nobody',
and program like sudo / su will not work.

W.I.P
----------

 - IPv6 support
 - HTTP proxy server support
 - fullcone NAT
 - fake DNS

